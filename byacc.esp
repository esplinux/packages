name    = "byacc"
version = "20200330" 
rev     = "0"

source = fetch("https://invisible-mirror.net/archives/byacc/byacc-%s.tgz" % version)

load("host.esp", "HOST")
load("musl.esp", "MUSL")

_cflags = "--sysroot=%s -O3" % MUSL.sysroot
cflags = "%s --static" % _cflags if BOOTSTRAP else _cflags

out = automake(source, env={
  "CC" : HOST.cc,
  "CFLAGS" : cflags,
})

BYACC = struct(
  name    = name, 
  version = version, 
  rev     = rev,
  package = tarball(out, name, version, rev)
)
